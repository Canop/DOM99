"use strict";

// global d

var demoTitles = ["Hello World", "Hello World 2", "Multiplier", "Lists", "Lists2", "Composition"];

var displayHtmlJsAndResult = function displayHtmlJsAndResult(name) {
    d.elements[d.contextFromArray([name, "penContainer"])].setAttribute("id", name); // for anchor links
    var JsSourceOriginal = d.elements[name + "Js"].textContent;
    var JsSourceDisplay = "import d from \"../dom99Module.js\";\n" + JsSourceOriginal.trim() + "\n\nd.activate();";
    var HtmlSourceDisplay = d.elements[name + "Html"].innerHTML.trim();
    d.feed({
        title: name,
        JsSourceDisplay: JsSourceDisplay,
        HtmlSourceDisplay: HtmlSourceDisplay
    }, name);
    var resultElement = d.elements[d.contextFromArray([name, "ResultDisplay"])];
    resultElement.innerHTML = HtmlSourceDisplay;
    if (window.usesModules) {
        eval(JsSourceOriginal);
    }
    d.activate(resultElement);
};

d.activate();
demoTitles.forEach(function (name) {
    displayHtmlJsAndResult(name);
});

