"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(f){i=!0,o=f}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dom99=function(e){var t,n,r,i,o={},a={},c={},f={},u={},d={},l=[],s=void 0,v=void 0,p=void 0,y=void 0,m=void 0,h=Object.prototype.hasOwnProperty,_=function(e){return"object"==typeof e&&null!==e},E=function(e,t,n){h.call(e,t)?e[t].push(n):e[t]=[n]},g=function(e){return function(t){return h.call(e,t)?e[t]:e.MISS}},b=g((_defineProperty(t={},"INPUT","value"),_defineProperty(t,"TEXTAREA","value"),_defineProperty(t,"PROGRESS","value"),_defineProperty(t,"SELECT","value"),_defineProperty(t,"IMG","src"),_defineProperty(t,"SOURCE","src"),_defineProperty(t,"AUDIO","src"),_defineProperty(t,"VIDEO","src"),_defineProperty(t,"TRACK","src"),_defineProperty(t,"SCRIPT","src"),_defineProperty(t,"OPTION","value"),_defineProperty(t,"LINK","href"),_defineProperty(t,"DETAILS","open"),_defineProperty(t,"MISS","textContent"),t)),O=g((_defineProperty(n={},"checkbox","checked"),_defineProperty(n,"radio","checked"),_defineProperty(n,"MISS","value"),n)),P=g((_defineProperty(r={},"checkbox","change"),_defineProperty(r,"radio","change"),_defineProperty(r,"range","change"),_defineProperty(r,"file","change"),_defineProperty(r,"MISS","input"),r)),S=g((_defineProperty(i={},"SELECT","change"),_defineProperty(i,"TEXTAREA","input"),_defineProperty(i,"BUTTON","click"),_defineProperty(i,"MISS","click"),i)),A={doneSymbol:"*",tokenSeparator:"-",listSeparator:" ",directives:{"function":"data-function",variable:"data-variable",element:"data-element",list:"data-list",inside:"data-inside",template:"data-template"},propertyFromElement:function(e){var t=void 0;return"INPUT"===(t=e.tagName!==undefined?e.tagName:e)?O(e.type):b(t)},eventNameFromElement:function(e){var t=e.tagName;return"INPUT"===t?P(e.type):S(t)},tagNamesForUserInput:["INPUT","TEXTAREA","SELECT","DETAILS"]};p=function(e,t){t(e);for(var n=e.firstChild;n;)1===n.nodeType?(p(n,t),n=n.nextElementSibling):n=n.nextSibling};var T=function(e){return e.getAttribute("is")||e.tagName.toLowerCase()},M=function(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined&&arguments[3];e.addEventListener(t,n,r)},D=function(e){return e.content,document.importNode(e.content,!0)},N=function(e){return e.join(">")},I=function(e){l.push(e)},C=function(){l.pop()},R=function(e,t){return 0===e.length?t:N(e)+">"+t},j=function(e){return e?e+">":e},F=function(e,t){Object.keys(e).forEach(function(n){n.startsWith(t)&&delete e[n]})},L=function(e){F(o,e),F(a,e),F(c,e),F(f,e)},k=function(e,t){e[e.DOM99_E]=t},x=function(e){e.remove()},U=function(e,t,n){var r=document.createDocumentFragment();if(h.call(e,"DOM99_X")&&h.call(u,e.DOM99_X)){var i=u[e.DOM99_X],o=l.slice();l=t.split(">");var a=j(t),c=n.length,f=void 0,d=void 0;if(h.call(e,"DOM99_R")){if((f=e.DOM99_R.length)>c){var s=void 0;for(s=c;s<f;s+=1)d=""+a+s,e.DOM99_R[s].forEach(x),L(d);e.DOM99_R.length=c}}else e.DOM99_R=[],f=0;n.forEach(function(t,n){if(v(d=""+a+n,t),n>=f){var o=m(i,String(n));e.DOM99_R.push(function(e){var t=e.length,n=[],r=void 0;for(r=0;r<t;r+=1)n.push(e[r]);return n}(o.childNodes)),r.appendChild(o)}}),l=o}else e.innerHTML="",n.forEach(function(t){var n=document.createElement(e.DOM99_I);_(t)?Object.assign(n,t):n[e.DOM99_L]=t,r.appendChild(n)});e.appendChild(r)};v=function(e,t){if(t===undefined&&(t=e,e=""),_(e),_(t))if(Array.isArray(t))c[e]=t,h.call(a,e)&&function(e,t,n){e.forEach(function(e){U(e,t,n)})}(a[e],e,t);else{var n=j(e);Object.entries(t).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],i=t[1];v(""+n+r,i)})}else c[e]=t,h.call(o,e)&&(r=o[e],(i=t)!==undefined&&r.forEach(function(e){k(e,i)}));var r,i};var X=function(e,t,n){M(e,t,d[n]),e.DOM99_C=N(l)},w=[],G=X,K=function(e,t){t.split(A.listSeparator).forEach(function(t){var n=t.split(A.tokenSeparator),r=void 0,i=void 0;if(1===n.length)r=n[0],i=A.eventNameFromElement(e);else{var o=_slicedToArray(n,2);i=o[0],r=o[1]}G(e,i,r)})},W=function(e,t){var n=t.split(A.tokenSeparator),r=_slicedToArray(n,3),i=r[0],o=r[1],f=r[2],u="-";f?(u=o+"-"+f,e.DOM99_X=u):(e.DOM99_L=A.propertyFromElement(o.toUpperCase()),e.DOM99_I=o);var d=R(l,i);E(a,d,e),h.call(c,d)&&U(e,d,c[d])},z=function(e,t){e.DOM99_E=A.propertyFromElement(e);var n=R(l,t);E(o,n,e);var r=c[n];if(r!==undefined&&k(e,r),A.tagNamesForUserInput.includes(e.tagName)){M(e,A.eventNameFromElement(e),function(t){var r=t.target[t.target.DOM99_E];c[n]=r,o[n].forEach(function(t){t!==e&&k(t,r)})})}},B=function(e,t){var n=t,r=R(l,n);f[r]=e},H=function(e,t){u[t]=e};m=function(e,t){I(t);var n=D(e);return y(n),C(),n};var V=function(e,t){var n=u[T(e)];if(n){var r=m(n,t);e.appendChild(r)}else e.setAttribute(A.directives.inside,A.doneSymbol+t),I(t),y(e),C()},q=function(e){if(e.hasAttribute){var t=Object.values(A.directives);if(Array.prototype.slice.call(e.attributes).forEach(function(e){e.nodeName.startsWith("data")&&t.includes(e.nodeName)}),s.forEach(function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1];if(e.hasAttribute(r)){var o=e.getAttribute(r);o[0]!==A.doneSymbol&&(i(e,o),e.setAttribute(r,A.doneSymbol+o))}}),!e.hasAttribute(A.directives.inside)&&!e.hasAttribute(A.directives.list)){var n=T(e);h.call(u,n)&&e.appendChild(D(u[n]))}}};y=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.body;return s||(s=[[A.directives.element,B],[A.directives.variable,z],[A.directives["function"],K],[A.directives.list,W],[A.directives.inside,V],[A.directives.template,H]]),p(e,q),e};var J=Object.freeze({start:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:document.body,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(Object.assign(d,e),v(t),y(n),r)return r()},activate:y,elements:f,functions:d,variables:c,feed:v,forgetContext:L,deleteTemplate:function(e){h.call(u,e),u[e].remove(),delete u[e]},contextFromArray:N,contextFromEvent:function Q(e,t){if(e||t){var n=void 0;if(n=e&&e.target?e.target:t,h.call(n,"DOM99_C"))return n.DOM99_C;if(n.parentNode)return Q(undefined,n.parentNode)}return""},getParentContext:function(e){var t=e.split(">");return t.pop(),t.join(">")}});return e.d=J,e.plugin=function(e){h.call(e,"directives")&&h.call(e.directives,"function")&&(w.push(e.directives["function"]),G=function(e,t,n){var r=!1,i=function(){r=!0};w.forEach(function(r){r(e,t,n,d,i)}),r||X(e,t,n)})},e.options=A,e.createElement2=function(e){var t=document.createElement(e.tagName);return Object.entries(e).forEach(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];"tagName"!==r&&t.setAttribute(r,i)}),t},e}({});