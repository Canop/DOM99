"use strict";var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(f){i=!0,o=f}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){var t,n,r,i,o="DOM99",a=o+"_C",l=o+"_L",c=o+"_E",s=o+"_I",v=o+"_X",p=o+"_R",y=">",f={},u={},d={},h={},m={},g={},E=[],b=void 0,_=void 0,P=void 0,S=void 0,A=void 0,T=Object.prototype.hasOwnProperty,N=function(e){return"object"==typeof e&&null!==e},I=function(e,t,n){T.call(e,t)?e[t].push(n):e[t]=[n]},O=function(t){return function(e){return T.call(t,e)?t[e]:t.MISS}},C=O((_defineProperty(t={},"INPUT","value"),_defineProperty(t,"TEXTAREA","value"),_defineProperty(t,"PROGRESS","value"),_defineProperty(t,"SELECT","value"),_defineProperty(t,"IMG","src"),_defineProperty(t,"SOURCE","src"),_defineProperty(t,"AUDIO","src"),_defineProperty(t,"VIDEO","src"),_defineProperty(t,"TRACK","src"),_defineProperty(t,"SCRIPT","src"),_defineProperty(t,"OPTION","value"),_defineProperty(t,"LINK","href"),_defineProperty(t,"DETAILS","open"),_defineProperty(t,"MISS","textContent"),t)),j=O((_defineProperty(n={},"checkbox","checked"),_defineProperty(n,"radio","checked"),_defineProperty(n,"MISS","value"),n)),F=O((_defineProperty(r={},"checkbox","change"),_defineProperty(r,"radio","change"),_defineProperty(r,"range","change"),_defineProperty(r,"file","change"),_defineProperty(r,"MISS","input"),r)),k=O((_defineProperty(i={},"SELECT","change"),_defineProperty(i,"TEXTAREA","input"),_defineProperty(i,"BUTTON","click"),_defineProperty(i,"MISS","click"),i)),x={doneSymbol:"*",tokenSeparator:"-",listSeparator:" ",directives:{"function":"data-function",variable:"data-variable",element:"data-element",list:"data-list",inside:"data-inside",template:"data-template"},propertyFromElement:function(e){var t=void 0;return"INPUT"===(t=e.tagName!==undefined?e.tagName:e)?j(e.type):C(t)},eventNameFromElement:function(e){var t=e.tagName;return"INPUT"===t?F(e.type):k(t)},tagNamesForUserInput:["INPUT","TEXTAREA","SELECT","DETAILS"]};P=function(e,t){t(e);for(var n=e.firstChild;n;)1===n.nodeType?(P(n,t),n=n.nextElementSibling):n=n.nextSibling};var L=function(e){return e.getAttribute("is")||e.tagName.toLowerCase()},U=function(e,t,n){var r=3<arguments.length&&arguments[3]!==undefined&&arguments[3];e.addEventListener(t,n,r)},R=function(e){return e.content,document.importNode(e.content,!0)},M=function(e){return e.join(y)},w=function(e){E.push(e)},D=function(){E.pop()},X=function(e,t){return 0===e.length?t:""+M(e)+y+t},G=function(e){return e?""+e+y:e},K=function(t,n){Object.keys(t).forEach(function(e){e.startsWith(n)&&delete t[e]})},W=function(e){K(f,e),K(u,e),K(d,e),K(h,e)},z=function(e,t){e[e[c]]=t},B=function(e){e.remove()},H=function(r,e,t){var i=document.createDocumentFragment();if(T.call(r,v)&&T.call(m,r[v])){var o=m[r[v]],n=E.slice();E=e.split(y);var a=G(e),c=t.length,f=void 0,u=void 0;if(T.call(r,p)){if(c<(f=r[p].length)){var d=void 0;for(d=c;d<f;d+=1)u=""+a+d,r[p][d].forEach(B),W(u);r[p].length=c}}else r[p]=[],f=0;t.forEach(function(e,t){if(_(u=""+a+t,e),f<=t){var n=A(o,String(t));r[p].push(function(e){var t=e.length,n=[],r=void 0;for(r=0;r<t;r+=1)n.push(e[r]);return n}(n.childNodes)),i.appendChild(n)}}),E=n}else r.innerHTML="",t.forEach(function(e){var t=document.createElement(r[s]);N(e)?Object.assign(t,e):t[r[l]]=e,i.appendChild(t)});r.appendChild(i)};_=function(e,t){if(t===undefined&&(t=e,e=""),N(e),N(t))if(Array.isArray(t))d[e]=t,T.call(u,e)&&(r=t,u[n=e].forEach(function(e){H(e,n,r)}));else{var i=G(e);Object.entries(t).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];_(""+i+n,r)})}else d[e]=t,T.call(f,e)&&(o=f[e],(a=t)!==undefined&&o.forEach(function(e){z(e,a)}));var n,r,o,a};var V=function(e,t,n){U(e,t,g[n]),e[a]=M(E)},q=[],J=V,Q=function(o,e){e.split(x.listSeparator).forEach(function(e){var t=e.split(x.tokenSeparator),n=void 0,r=void 0;if(1===t.length)n=t[0],r=x.eventNameFromElement(o);else{var i=_slicedToArray(t,2);r=i[0],n=i[1]}J(o,r,n)})},Y=function(e,t){var n=t.split(x.tokenSeparator),r=_slicedToArray(n,3),i=r[0],o=r[1],a=r[2],c="-";a?(c=o+"-"+a,e[v]=c):(e[l]=x.propertyFromElement(o.toUpperCase()),e[s]=o);var f=X(E,i);I(u,f,e),T.call(d,f)&&H(e,f,d[f])},Z=function(n,e){n[c]=x.propertyFromElement(n);var r=X(E,e);I(f,r,n);var t=d[r];if(t!==undefined&&z(n,t),x.tagNamesForUserInput.includes(n.tagName)){U(n,x.eventNameFromElement(n),function(e){var t=e.target[e.target[c]];d[r]=t,f[r].forEach(function(e){e!==n&&z(e,t)})})}},$=function(e,t){var n=t,r=X(E,n);h[r]=e},ee=function(e,t){m[t]=e};A=function(e,t){w(t);var n=R(e);return S(n),D(),n};var te=function(e,t){var n=m[L(e)];if(n){var r=A(n,t);e.appendChild(r)}else e.setAttribute(x.directives.inside,x.doneSymbol+t),w(t),S(e),D()},ne=function(o){if(o.hasAttribute){var t=Object.values(x.directives);if(Array.prototype.slice.call(o.attributes).forEach(function(e){e.nodeName.startsWith("data")&&t.includes(e.nodeName)}),b.forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];if(o.hasAttribute(n)){var i=o.getAttribute(n);i[0]!==x.doneSymbol&&(r(o,i),o.setAttribute(n,x.doneSymbol+i))}}),!o.hasAttribute(x.directives.inside)&&!o.hasAttribute(x.directives.list)){var e=L(o);T.call(m,e)&&o.appendChild(R(m[e]))}}};S=function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:document.body;return b||(b=[[x.directives.element,$],[x.directives.variable,Z],[x.directives["function"],Q],[x.directives.list,Y],[x.directives.inside,te],[x.directives.template,ee]]),P(e,ne),e};return Object.freeze({start:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:document.body,r=3<arguments.length&&arguments[3]!==undefined?arguments[3]:undefined;if(Object.assign(g,e),_(t),S(n),r)return r()},activate:S,elements:h,functions:g,variables:d,feed:_,createElement2:function(e){var i=document.createElement(e.tagName);return Object.entries(e).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];"tagName"!==n&&i.setAttribute(n,r)}),i},forgetContext:W,deleteTemplate:function(e){T.call(m,e),m[e].remove(),delete m[e]},contextFromArray:M,contextFromEvent:function e(t,n){if(t||n){var r=void 0;if(r=t&&t.target?t.target:n,T.call(r,a))return r[a];if(r.parentNode)return e(undefined,r.parentNode)}return""},getParentContext:function(e){var t=e.split(y);return t.pop(),t.join(y)},options:x,plugin:function(e){T.call(e,"directives")&&T.call(e.directives,"function")&&(q.push(e.directives["function"]),J=function(t,n,r){var e=!1,i=function(){e=!0};q.forEach(function(e){e(t,n,r,g,i)}),e||V(t,n,r)})}})}();