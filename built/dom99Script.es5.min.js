"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n,r,i,o=function(e){return"object"==typeof e&&null!==e},a=function(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]},c=Number.MAX_SAFE_INTEGER,u=Object.prototype.hasOwnProperty,f=function(e){return function(t){return u.call(e,t)?e[t]:e.MISS}},l=function(e){e.remove()},d=f((_defineProperty(t={},"INPUT","value"),_defineProperty(t,"TEXTAREA","value"),_defineProperty(t,"PROGRESS","value"),_defineProperty(t,"SELECT","value"),_defineProperty(t,"IMG","src"),_defineProperty(t,"SOURCE","src"),_defineProperty(t,"AUDIO","src"),_defineProperty(t,"VIDEO","src"),_defineProperty(t,"TRACK","src"),_defineProperty(t,"SCRIPT","src"),_defineProperty(t,"OPTION","value"),_defineProperty(t,"LINK","href"),_defineProperty(t,"DETAILS","open"),_defineProperty(t,"MISS","textContent"),t)),s=f((_defineProperty(n={},"checkbox","checked"),_defineProperty(n,"radio","checked"),_defineProperty(n,"MISS","value"),n)),p=f((_defineProperty(r={},"checkbox","change"),_defineProperty(r,"radio","change"),_defineProperty(r,"range","change"),_defineProperty(r,"file","change"),_defineProperty(r,"MISS","input"),r)),v=f((_defineProperty(i={},"SELECT","change"),_defineProperty(i,"TEXTAREA","input"),_defineProperty(i,"BUTTON","click"),_defineProperty(i,"MISS","click"),i)),y={"function":"data-function",variable:"data-variable",element:"data-element",list:"data-list",inside:"data-inside",template:"data-template"},h=function(e){var t=void 0;return"INPUT"===(t=e.tagName!==undefined?e.tagName:e)?s(e.type):d(t)},m=function(e){var t=e.tagName;return"INPUT"===t?p(e.type):v(t)},_=function(e){var t=e.getAttribute("is");return t||e.tagName.toLowerCase()},E=function(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined&&arguments[3];e.addEventListener(t,n,r)},g=function(e){return e.content,document.importNode(e.content,!0)},b=function(e){return e.DOM99_C},A=function(e){return e.join(">")},P=function(e,t){return 0===e.length?t:A(e)+">"+t},S=function(e){return e?e+">":e},T=function(e,t){Object.keys(e).forEach(function(n){n.startsWith(t)&&delete e[n]})},O=function(e){return"defaultValue"in e?e.defaultValue:"open"in e?e.open:e.textContent},I=function(){var e={},t={},n={},r={},i={},c={},f=[],d=[],s=!1,p=[],v=[],b=void 0,A={doneSymbol:"*",tokenSeparator:"-",listSeparator:" ",firstVariableValueStrategy:undefined,directives:y,propertyFromElement:h,eventNameFromElement:m,tagNamesForUserInput:["INPUT","TEXTAREA","SELECT","DETAILS"]},O=function(e){return e.join(">")},I=function(e){f.push(e)},N=function(){f.pop()},M=function(i){T(e,i),T(t,i),T(n,i),T(r,i)},C=function(e,t){e[A.propertyFromElement(e)]=t},R=function(e,t,n){var r=document.createDocumentFragment();if(u.call(e,"DOM99_X")&&u.call(i,e.DOM99_X)){var a=i[e.DOM99_X],c=f.slice();f=t.split(">");var d=S(t),s=n.length,p=void 0,v=void 0;if(u.call(e,"DOM99_R")){if((p=e.DOM99_R.length)>s){var y=void 0;for(y=s;y<p;y+=1)v=""+d+y,e.DOM99_R[y].forEach(l),M(v);e.DOM99_R.length=s}}else e.DOM99_R=[],p=0;n.forEach(function(t,n){if(D(v=""+d+n,t),n>=p){var i=X(a,String(n));e.DOM99_R.push(function(e){var t=e.length,n=[],r=void 0;for(r=0;r<t;r+=1)n.push(e[r]);return n}(i.childNodes)),r.appendChild(i)}}),f=c}else{e.innerHTML="";var h=e.DOM99_I,m=A.propertyFromElement(h.toUpperCase());n.forEach(function(e){var t=document.createElement(h);o(e)?Object.assign(t,e):t[m]=e,r.appendChild(t)})}e.appendChild(r)},D=function K(r,i){if(i===undefined&&(i=r,r=""),o(r),s||H(r,i),o(i))if(Array.isArray(i))n[r]=i,u.call(t,r)&&function(e,t,n){e.forEach(function(e){R(e,t,n)})}(t[r],r,i);else{var a=S(r);s=!0,Object.entries(i).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];K(""+a+n,r)}),s=!1}else n[r]=i,u.call(e,r)&&(c=e[r],(f=i)!==undefined&&c.forEach(function(e){C(e,f)}));var c,f},F=function(e,t,n){E(e,t,c[n]),e.DOM99_C=O(f)},j=F,x=function(e,t){t.split(A.listSeparator).forEach(function(t){var n=t.split(A.tokenSeparator),r=void 0,i=void 0;if(1===n.length)r=n[0],i=A.eventNameFromElement(e);else{var o=_slicedToArray(n,2);i=o[0],r=o[1]}j(e,i,r)})},L=function(e,r){var i=r.split(A.tokenSeparator),o=_slicedToArray(i,3),c=o[0],l=o[1],d=o[2],s="-";d?(s=l+"-"+d,e.DOM99_X=s):e.DOM99_I=l;var p=P(f,c);a(t,p,e),u.call(n,p)&&R(e,p,n[p])},U=function(t,r){var i=P(f,r);a(e,i,t),n[i]!==undefined&&C(t,n[i]),A.tagNamesForUserInput.includes(t.tagName)&&E(t,A.eventNameFromElement(t),function(r){var o=t[A.propertyFromElement(t)];n[i]=o,H(i,o),e[i].forEach(function(e){e!==t&&C(e,o)})})},k=function(e,t){var n=t,i=P(f,n);r[i]=e},w=function(e,t){i[t]=e},X=function(e,t){I(t);var n=g(e);return B(n),W(),N(),n},V=function(e,t){var n=i[_(e)];if(n){var r=X(n,t);e.appendChild(r)}else e.setAttribute(A.directives.inside,A.doneSymbol+t),I(t),B(e),N()},G=function(e){if(e.hasAttribute){var t=Object.values(A.directives);if(Array.prototype.slice.call(e.attributes).forEach(function(e){e.nodeName.startsWith("data")&&t.includes(e.nodeName)}),b.forEach(function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1];if(e.hasAttribute(r)){var o=e.getAttribute(r);o[0]!==A.doneSymbol&&(i(e,o),e.setAttribute(r,""+A.doneSymbol+o))}}),!e.hasAttribute(A.directives.inside)&&!e.hasAttribute(A.directives.list)){var n=_(e);u.call(i,n)&&e.appendChild(g(i[n]))}}},B=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.body;return b||(b=[[A.directives.element,k],[A.directives.variable,U],[A.directives["function"],x],[A.directives.list,L],[A.directives.inside,V],[A.directives.template,w]]),function t(e,n){n(e);for(var r=e.firstChild;r;)1===r.nodeType?(t(r,n),r=r.nextElementSibling):r=r.nextSibling}(e,G),e},W=function(){var e=O(f);v.forEach(function(t){t(e)})},H=function(e,t){p.forEach(function(n){n(e,t)})};return{start:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:document.body,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(Object.assign(c,e),D(t),B(n),r)return r()},activate:B,elements:r,functions:c,variables:n,get:function(e,t){var r=void 0;return r=Array.isArray(e)?O(e):e,t&&(r=r+">"+withWhat),n[r]},feed:D,forgetContext:M,deleteTemplate:function(e){u.call(i,e),i[e].remove(),delete i[e]},plugin:function(e){o(e),"function"===e.type?(d.push(e.plugin),j=function(e,t,n){var r=!1,i=function(){r=!0};d.forEach(function(r){r(e,t,n,c,i)}),r||F(e,t,n)}):"variable"===e.type?p.push(e.plugin):"cloned"===e.type&&v.push(e.plugin)},options:A}}(),N=I.start,M=I.activate,C=I.elements,R=I.functions,D=I.variables,F=I.get,j=I.feed,x=I.forgetContext,L=I.deleteTemplate,U=I.plugin,k=I.options;return e.start=N,e.activate=M,e.elements=C,e.functions=R,e.variables=D,e.get=F,e.feed=j,e.forgetContext=x,e.deleteTemplate=L,e.plugin=U,e.options=k,e.contextFromArray=A,e.contextFromEvent=function(e){return function t(e,n){var r=n(e);if(r)return r;var i=e.parentNode;return i?t(i,n):void 0}(e.target,b)||""},e.getParentContext=function(e){var t=e.split(">");return t.pop(),t.join(">")},e.createElement2=function(e){var t=document.createElement(e.tagName);return Object.entries(e).forEach(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];"tagName"!==r&&t.setAttribute(r,i)}),t},e.idGenerator=function(){var e="id-"+c;return c-=1,e},e.FIRST_VARIABLE_FROM_HTML=O,e.FIRST_VARIABLE_FROM_USER_AGENT=function(e){return e.value||O(e)},e}({});