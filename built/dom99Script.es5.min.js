"use strict";var d=function(e){var t,n,r,i,a=function(e){return"object"==typeof e&&null!==e},o=function(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]},c=Number.MAX_SAFE_INTEGER,u=Object.prototype.hasOwnProperty,l=function(e){return function(t){return u.call(e,t)?e[t]:e.MISS}},f=function(e){e.remove()},d=l(((t={}).INPUT="value",t.TEXTAREA="value",t.PROGRESS="value",t.SELECT="value",t.IMG="src",t.SOURCE="src",t.AUDIO="src",t.VIDEO="src",t.TRACK="src",t.SCRIPT="src",t.OPTION="value",t.LINK="href",t.DETAILS="open",t.MISS="textContent",t)),s=l(((n={}).checkbox="checked",n.radio="checked",n.MISS="value",n)),v=l(((r={}).checkbox="change",r.radio="change",r.range="change",r.file="change",r.MISS="input",r)),p=l(((i={}).SELECT="change",i.TEXTAREA="input",i.BUTTON="click",i.MISS="click",i)),m={"function":"data-function",variable:"data-variable",element:"data-element",list:"data-list",inside:"data-inside",template:"data-template"},h=function(e){var t=void 0;return"INPUT"===(t=e.tagName!==undefined?e.tagName:e)?s(e.type):d(t)},E=function(e){var t=e.tagName;return"INPUT"===t?v(e.type):p(t)},g=function(e){var t=e.getAttribute("is");return t||e.tagName.toLowerCase()},b=function(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined&&arguments[3];e.addEventListener(t,n,r)},S=function(e){return e.content,document.importNode(e.content,!0)},A=function(e){return e.DOM99_C},O=function(e){return e.join(">")},y=function(e,t){return 0===e.length?t:O(e)+">"+t},T=function(e){return e?e+">":e},I=function(e,t){Object.keys(e).forEach(function(n){n.startsWith(t)&&delete e[n]})},M=function(e){return"defaultValue"in e?e.defaultValue:"open"in e?e.open:e.textContent},N=function(e,t){var n=void 0;return n=Array.isArray(e)?O(e):e,t&&(n=n+">"+t),n},_=function(){var e={},t={},n={},r={},i={},c={},l=[],d=[],s=!1,v=[],p=[],A=void 0,O={doneSymbol:"*",tokenSeparator:"-",listSeparator:" ",firstVariableValueStrategy:undefined,directives:m,propertyFromElement:h,eventNameFromElement:E,tagNamesForUserInput:["INPUT","TEXTAREA","SELECT","DETAILS"]},M=function(e){return e.join(">")},_=function(e){l.push(e)},C=function(){l.pop()},R=function(i){I(e,i),I(t,i),I(n,i),I(r,i)},D=function(e,t){e[O.propertyFromElement(e)]=t},F=function(e,t,n){var r=document.createDocumentFragment();if(u.call(e,"DOM99_X")&&u.call(i,e.DOM99_X)){var o=i[e.DOM99_X],c=l.slice();l=t.split(">");var d=T(t),s=n.length,v=void 0,p=void 0;if(u.call(e,"DOM99_R")){if((v=e.DOM99_R.length)>s){var m=void 0;for(m=s;m<v;m+=1)p=""+d+m,e.DOM99_R[m].forEach(f),R(p);e.DOM99_R.length=s}}else e.DOM99_R=[],v=0;n.forEach(function(t,n){if(x(p=""+d+n,t),n>=v){var i=G(o,String(n));e.DOM99_R.push((a=i.childNodes,Array.prototype.slice.call(a))),r.appendChild(i)}var a}),l=c}else{e.innerHTML="";var h=e.DOM99_I,E=O.propertyFromElement(h.toUpperCase());n.forEach(function(e){var t=document.createElement(h);a(e)?Object.assign(t,e):t[E]=e,r.appendChild(t)})}e.appendChild(r)},x=function q(r,i){if(i===undefined&&(i=r,r=""),a(r),s||W(r,i),a(i))if(Array.isArray(i))n[r]=i,u.call(t,r)&&function(e,t,n){e.forEach(function(e){F(e,t,n)})}(t[r],r,i);else{var o=T(r);s=!0,Object.entries(i).forEach(function(e){var t=e[0],n=e[1];q(""+o+t,n)}),s=!1}else n[r]=i,u.call(e,r)&&(c=e[r],(l=i)!==undefined&&c.forEach(function(e){D(e,l)}));var c,l},L=function(e,t,n){b(e,t,c[n]),e.DOM99_C=M(l)},j=L,U=function(e,t){t.split(O.listSeparator).forEach(function(t){var n=t.split(O.tokenSeparator),r=void 0,i=void 0;1===n.length?(r=n[0],i=O.eventNameFromElement(e)):(i=n[0],r=n[1]),j(e,i,r)})},k=function(e,r){var i=r.split(O.tokenSeparator),a=i[0],c=i[1],f=i[2],d="-";f?(d=c+"-"+f,e.DOM99_X=d):e.DOM99_I=c;var s=y(l,a);o(t,s,e),u.call(n,s)&&F(e,s,n[s])},P=function(t,r){var i=y(l,r);o(e,i,t),n[i]!==undefined&&D(t,n[i]),O.tagNamesForUserInput.includes(t.tagName)&&b(t,O.eventNameFromElement(t),function(r){var a=t[O.propertyFromElement(t)];n[i]=a,W(i,a),e[i].forEach(function(e){e!==t&&D(e,a)})})},X=function(e,t){var n=t,i=y(l,n);r[i]=e},V=function(e,t){i[t]=e},G=function(e,t){_(t);var n=S(e);return H(n),K(),C(),n},w=function(e,t){var n=i[g(e)];if(n){var r=G(n,t);e.appendChild(r)}else e.setAttribute(O.directives.inside,O.doneSymbol+t),_(t),H(e),C()},B=function(e){if(e.hasAttribute&&(A.forEach(function(t){var n=t[0],r=t[1];if(e.hasAttribute(n)){var i=e.getAttribute(n);i[0]!==O.doneSymbol&&(r(e,i),e.setAttribute(n,""+O.doneSymbol+i))}}),!e.hasAttribute(O.directives.inside)&&!e.hasAttribute(O.directives.list))){var t=g(e);u.call(i,t)&&e.appendChild(S(i[t]))}},H=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.body;return A||(A=[[O.directives.element,X],[O.directives.variable,P],[O.directives["function"],U],[O.directives.list,k],[O.directives.inside,w],[O.directives.template,V]]),function t(e,n){n(e);for(var r=e.firstChild;r;)1===r.nodeType?(t(r,n),r=r.nextElementSibling):r=r.nextSibling}(e,B),e},K=function(){var e=M(l);p.forEach(function(t){t(e)})},W=function(e,t){v.forEach(function(n){n(e,t)})};return{start:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:document.body,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(Object.assign(c,e),x(t),H(n),r)return r()},activate:H,elements:r,functions:c,variables:n,get:function(e,t){return n[N(e,t)]},element:function(e,t){return r[N(e,t)]},feed:x,forgetContext:R,deleteTemplate:function(e){u.call(i,e),i[e].remove(),delete i[e]},plugin:function(e){a(e),"function"===e.type?(d.push(e.plugin),j=function(e,t,n){var r=!1,i=function(){r=!0};d.forEach(function(r){r(e,t,n,c,i)}),r||L(e,t,n)}):"variable"===e.type?v.push(e.plugin):"cloned"===e.type&&p.push(e.plugin)},options:O}}(),C=_.start,R=_.activate,D=_.elements,F=_.functions,x=_.variables,L=_.get,j=_.element,U=_.feed,k=_.forgetContext,P=_.deleteTemplate,X=_.plugin,V=_.options;return e.start=C,e.activate=R,e.elements=D,e.functions=F,e.variables=x,e.get=L,e.element=j,e.feed=U,e.forgetContext=k,e.deleteTemplate=P,e.plugin=X,e.options=V,e.contextFromArray=O,e.contextFromEvent=function(e){return function t(e,n){var r=n(e);if(r)return r;var i=e.parentNode;return i?t(i,n):void 0}(e.target,A)||""},e.getParentContext=function(e){var t=e.split(">");return t.pop(),t.join(">")},e.createElement2=function(e){var t=document.createElement(e.tagName);return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];"tagName"!==n&&t.setAttribute(n,r)}),t},e.idGenerator=function(){var e=""+(arguments.length>0&&arguments[0]!==undefined?arguments[0]:"")+c;return c-=1,e},e.FIRST_VARIABLE_FROM_HTML=M,e.FIRST_VARIABLE_FROM_USER_AGENT=function(e){return e.value||M(e)},e}({});