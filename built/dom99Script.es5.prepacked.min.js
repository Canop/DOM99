"use strict";var _defineProperty,d,_slicedToArray;(function(){var e=function(e){var n;switch(e){case 0:n=[!1,Y,void 0,M];break;case 1:n=[9007199254740991]}return t[e]=n,n},t=new Array(2),n={enumerable:!1,configurable:!0,writable:!1},r=this.Object,i=r.prototype.hasOwnProperty,a=r.defineProperty,o=function(e){return"object"==typeof e&&null!==e},c=function(e,t){var n=t(e);if(n)return n;var r=e.parentNode;return r?c(r,t):void 0},u=function(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]},l=function(e){e.remove()},f=function(e,t){return W.call(e,t)?e[t]:e.MISS},d=function(e,t){t(e);for(var n=e.firstChild;n;)1===n.nodeType?(d(n,t),n=n.nextElementSibling):n=n.nextSibling},s=function(e){var t=e.getAttribute("is");return t||e.tagName.toLowerCase()},v=function(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined&&arguments[3];e.addEventListener(t,n,r)},p=function(e){return e.content,document.importNode(e.content,!0)},h=function(e){return e.DOM99_C},m=function(e){return e.join(">")},y=function(e,t){return 0===e.length?t:m(e)+">"+t},g=function(e){return e?e+">":e},b=function(e,t){Object.keys(e).forEach(function(n){n.startsWith(t)&&delete e[n]})},E=function(e){return e.join(">")},O=function(n){(t[0]||e(0))[1].push(n)},A=function(){(t[0]||e(0))[1].pop()},S=function(e){b(K,e),b(J,e),b(G,e),b(Z,e)},T=function(e,t){e[z.propertyFromElement(e)]=t},_=function(n,r,i){var a=t[0]||e(0),c=document.createDocumentFragment();if(W.call(n,"DOM99_X")&&W.call(Q,n.DOM99_X)){var u=Q[n.DOM99_X],f=a[1].slice();a[1]=r.split(">");var d=g(r),s=i.length,v=void 0,p=void 0;if(W.call(n,"DOM99_R")){if((v=n.DOM99_R.length)>s){var h=void 0;for(h=s;h<v;h+=1)p=""+d+h,n.DOM99_R[h].forEach(l),S(p);n.DOM99_R.length=s}}else n.DOM99_R=[],v=0;i.forEach(function(e,t){if(N(p=""+d+t,e),t>=v){var r=R(u,String(t));n.DOM99_R.push(function(e){var t=e.length,n=[],r=void 0;for(r=0;r<t;r+=1)n.push(e[r]);return n}(r.childNodes)),c.appendChild(r)}}),a[1]=f}else n.innerHTML="",i.forEach(function(e){var t=document.createElement(n.DOM99_I);o(e)?Object.assign(t,e):t[n.DOM99_L]=e,c.appendChild(t)});n.appendChild(c)},N=function(n,r){var i,a,c=t[0]||e(0);if(r===undefined&&(r=n,n=""),o(n),c[0]||x(n,r),o(r))if(Array.isArray(r))G[n]=r,W.call(J,n)&&function(e,t,n){e.forEach(function(e){_(e,t,n)})}(J[n],n,r);else{var u=g(n);c[0]=!0,Object.entries(r).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];N(""+u+n,r)}),c[0]=!1}else G[n]=r,W.call(K,n)&&(i=K[n],(a=r)!==undefined&&i.forEach(function(e){T(e,a)}))},M=function(n,r,i){var a=t[0]||e(0);U[i],v(n,r,U[i]),n.DOM99_C=E(a[1])},I=function(n,r){var i=t[0]||e(0);r.split(z.listSeparator).forEach(function(e){var t=e.split(z.tokenSeparator),r=void 0,a=void 0;if(1===t.length)r=t[0],a=z.eventNameFromElement(n);else{var o=_slicedToArray(t,2);a=o[0],r=o[1]}i[3](n,a,r)})},D=function(n,r){var i=t[0]||e(0),a=r.split(z.tokenSeparator),o=_slicedToArray(a,3),c=o[0],l=o[1],f=o[2],d="-";f?(d=l+"-"+f,n.DOM99_X=d):(n.DOM99_L=z.propertyFromElement(l.toUpperCase()),n.DOM99_I=l);var s=y(i[1],c);u(J,s,n),W.call(G,s)&&_(n,s,G[s])},C=function(n,r){var i=t[0]||e(0),a=y(i[1],r);u(K,a,n);var o=G[a];if(o!==undefined&&T(n,o),z.tagNamesForUserInput.includes(n.tagName)){v(n,z.eventNameFromElement(n),function(e){var t=n[z.propertyFromElement(n)];G[a]=t,x(a,t),K[a].forEach(function(e){e!==n&&T(e,t)})})}},j=function(n,r){var i=t[0]||e(0),a=r,o=y(i[1],a);Z[o]=n},P=function(e,t){Q[t]=e},R=function(e,t){O(t);var n=p(e);return w(n),L(),A(),n},F=function(e,t){var n=Q[s(e)];if(n){var r=R(n,t);e.appendChild(r)}else e.setAttribute(z.directives.inside,z.doneSymbol+t),O(t),w(e),A()},k=function(n){var r=t[0]||e(0);if(n.hasAttribute){var i=Object.values(z.directives);if(Array.prototype.slice.call(n.attributes).forEach(function(e){e.nodeName.startsWith("data")&&i.includes(e.nodeName)}),r[2].forEach(function(e){var t=_slicedToArray(e,2),r=t[0],i=t[1];if(n.hasAttribute(r)){var a=n.getAttribute(r);a[0]!==z.doneSymbol&&(i(n,a),n.setAttribute(r,""+z.doneSymbol+a))}}),!n.hasAttribute(z.directives.inside)&&!n.hasAttribute(z.directives.list)){var a=s(n);W.call(Q,a)&&n.appendChild(p(Q[a]))}}},w=function(){var n=t[0]||e(0),r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.body;return n[2]||(n[2]=[[z.directives.element,j],[z.directives.variable,C],[z.directives["function"],I],[z.directives.list,D],[z.directives.inside,F],[z.directives.template,P]]),d(r,k),r},L=function(){var n=t[0]||e(0),r=E(n[1]);$.forEach(function(e){e(r)})},x=function(e,t){X.forEach(function(n){n(e,t)})};this._defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},this._slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=undefined;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var U={},X=[],G={},W=i,K={},B={checkbox:"checked",radio:"checked",MISS:"value"},H={INPUT:"value",TEXTAREA:"value",PROGRESS:"value",SELECT:"value",IMG:"src",SOURCE:"src",AUDIO:"src",VIDEO:"src",TRACK:"src",SCRIPT:"src",OPTION:"value",LINK:"href",DETAILS:"open",MISS:"textContent"},V={checkbox:"change",radio:"change",range:"change",file:"change",MISS:"input"},q={SELECT:"change",TEXTAREA:"input",BUTTON:"click",MISS:"click"},z={doneSymbol:"*",tokenSeparator:"-",listSeparator:" ",directives:{"function":"data-function",variable:"data-variable",element:"data-element",list:"data-list",inside:"data-inside",template:"data-template"},propertyFromElement:function(e){var t=void 0;return"INPUT"===(t=e.tagName!==undefined?e.tagName:e)?function(e){return f.call(this,B,e)}(e.type):function(e){return f.call(this,H,e)}(t)},eventNameFromElement:function(e){var t=e.tagName;return"INPUT"===t?function(e){return f.call(this,V,e)}(e.type):function(e){return f.call(this,q,e)}(t)},tagNamesForUserInput:["INPUT","TEXTAREA","SELECT","DETAILS"]},J={},Q={},Y=[],Z={};n.value="applyFunctionOriginal",a(M,"name",n);var $=[],ee=[];this.d={start:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:document.body,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(Object.assign(U,e),N(t),w(n),r)return r()},activate:w,elements:Z,functions:U,variables:G,get:function(e,t){var n=void 0;return n=Array.isArray(e)?E(e):e,t&&(n=n+">"+withWhat),G[n]},feed:N,forgetContext:S,deleteTemplate:function(e){W.call(Q,e),Q[e].remove(),delete Q[e]},plugin:function(n){var r=t[0]||e(0);o(n),"function"===n.type?(ee.push(n.plugin),r[3]=function(e,t,n){var r=!1,i=function(){r=!0};ee.forEach(function(r){r(e,t,n,U,i)}),r||M(e,t,n)}):"variable"===n.type?X.push(n.plugin):"cloned"===n.type&&$.push(n.plugin)},options:z,contextFromArray:m,contextFromEvent:function(e){return c(e.target,h)||""},getParentContext:function(e){var t=e.split(">");return t.pop(),t.join(">")},createElement2:function(e){var t=document.createElement(e.tagName);return Object.entries(e).forEach(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];"tagName"!==r&&t.setAttribute(r,i)}),t},idGenerator:function(){var n=t[1]||e(1),r="id-"+n[0];return n[0]-=1,r}}}).call(this);