"use strict";var MAX=10,D=dom99,fakeMessagesFromSister=["Hey brother, what is up ?","Long time not seen","you should visit my new home","remember the skateboard races we had when we were kids ?","Hey answer please :)"],fakeMessagesFromBoss=["Nice work kids","I am going on a trip next week to meet new buisness partners","Can you finish the project ?"];var messageNumber=0,messageScopes=[],fakeMessagesFromSisterCurrentIndex=0,fakeMessagesFromBossCurrentIndex=0;var updateMessageElement=function e(s,a){D.vr[a].authorName=s.authorName;D.el[a].authorFoto.src=s.authorFoto;D.vr[a].messageText=s.messageText};var renderNewMessageElement=function e(s,a){var r=D.templateRender("messageTemplate",a);updateMessageElement(s,a);D.el.messagesContainer.appendChild(r)};var displayNewMessage=function e(s){var a=undefined;if(messageScopes.length>=MAX){a=messageScopes[0];messageScopes=messageScopes.slice(1);messageScopes.push(a);D.el.messagesContainer.appendChild(D.el[a].message);updateMessageElement(s,a)}else{a=String(messageNumber);messageScopes.push(a);renderNewMessageElement(s,a);messageNumber+=1}};D.fx.trySendMessage=function(e){var s={authorName:"You",authorFoto:"../images/you.jpg",messageText:D.vr.currentMessage};displayNewMessage(s);D.vr.currentMessage="";D.el.textarea.focus()};var fakeSisterSpeak=function(e){var s=function s(){return e.apply(this,arguments)};s.toString=function(){return e.toString()};return s}(function(){var e={authorName:"Sister",authorFoto:"../images/sister.jpg",messageText:fakeMessagesFromSister[fakeMessagesFromSisterCurrentIndex%fakeMessagesFromSister.length]};displayNewMessage(e);fakeMessagesFromSisterCurrentIndex+=1;setTimeout(fakeSisterSpeak,7e3)});var fakeBossSpeak=function(e){var s=function s(){return e.apply(this,arguments)};s.toString=function(){return e.toString()};return s}(function(){var e={authorName:"boss",authorFoto:"../images/boss.jpg",messageText:fakeMessagesFromBoss[fakeMessagesFromBossCurrentIndex%fakeMessagesFromBoss.length]};displayNewMessage(e);fakeMessagesFromBossCurrentIndex+=1;setTimeout(fakeBossSpeak,12120)});D.vr.currentMessage="";D.linkJsAndDom();fakeSisterSpeak();fakeBossSpeak();