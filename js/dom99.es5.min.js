"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},dom99=function(){var e={},t={},n="",r={},i={},o={},a={},c=r,u=i,d=o,f=a,s=void 0,l=void 0,v=void 0,p=void 0,y=document,m="miss",h="value",b="textContent",g="src",A="checked",P=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))},E=function e(t,n){Object.keys(n).forEach(function(r){P(n[r])?(t.hasOwnProperty(r)||(Array.isArray(n[r])?t[r]=[]:t[r]={}),e(t[r],n[r])):t[r]=n[r]})},T=function(e){return"true"===e},O=function(e){return function(t){return e.hasOwnProperty(t)?e[t]:e[m]}},S=O({input:h,textarea:h,progress:h,select:h,img:g,source:g,audio:g,video:g,track:g,script:g,option:h,link:"href",miss:b}),w=O({checkbox:A,radio:A,miss:h}),D=O({checkbox:"change",radio:"change",range:"change",miss:"input"}),V=O({select:"change",miss:"input"}),x={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(e,t){return"input"===e?w(t):S(e)},eventFromTagAndType:function(e,t){return"input"===e?D(t):V(e)},elementsForUserInputList:["input","textarea","select"]},L=function(e){var t=y.createElement(e.tagName);return e=Object.assign({},e),delete e.tagName,Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t},k=function e(t,n){if(n(t),"TEMPLATE"!==t.tagName)for(t=t.firstElementChild;t;)e(t,n),t=t.nextElementSibling},j=function(e){return e.tagName.toLowerCase()},F=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e.addEventListener(t,n,r)},R=function(e,r){var i=r[0].split(x.listSeparator),o=r[1].split(x.listSeparator),a=n,c=void 0;i&&o&&(1===i.length&&1===o.length?!function(){var n=o[0];c=function(e){return e.dKey=a,t[n](e)},F(e,i[0],c)}():(c=function(e){var n=void 0;e.dKey=a;var r=function(r){n=t[r](e)};return o.forEach(r),n},i.forEach(function(t){F(e,t,c)})))},_=function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],o=void 0,a=void 0;r&&(c.hasOwnProperty(r)&&(a=c[r]),e.DVRPL=x.variablePropertyFromTagAndType(i,""),Object.defineProperty(c,r,{get:function(){return o},set:function(t){o=t,e.innerHTML="";var n=y.createDocumentFragment();o.forEach(function(t){var r=y.createElement(i);P(t)?Object.keys(t).forEach(function(e){r[e]=t[e]}):r[e.DVRPL]=t,n.appendChild(r)}),e.appendChild(n)},enumerable:!0,configurable:!1}),void 0!==a&&(c[r]=a))},C=function(e,t){var n=_slicedToArray(t,1),r=n[0],i=void 0,o=c,a=u,d=j(e),f=e.type;r&&(c.hasOwnProperty(r)&&(i=c[r]),e.DVRP=x.variablePropertyFromTagAndType(d,f),u.hasOwnProperty(r)?u[r].push(e):!function(){var t="";u[r]=[e],Object.defineProperty(c,r,{get:function(){return t},set:function(e){void 0!==e&&(t=String(e),a[r].forEach(function(n){String(n[n.DVRP])!==t&&(n.DVRP===A?n[n.DVRP]=e:n[n.DVRP]=t)}))},enumerable:!0,configurable:!1})}(),x.elementsForUserInputList.includes(d)&&F(e,x.eventFromTagAndType(d,f),function(e){o[r]=e.target[e.target.DVRP]}),void 0!==i&&(c[r]=i))},I=function(t,n){var r=_slicedToArray(n,3),i=r[0],o=r[1],a=r[2],c=void 0;i&&(d[i]=t,o&&a&&(c=o+"-"+a,e[c]=t))},N=function(){return"content"in y.createElement("template")?function(e){return y.importNode(e.content,!0)}:function(e){var t=y.createElement("div");return t.innerHTML=e.innerHTML,t}}(),M=function(e){d.hasOwnProperty(e)||(d[e]={}),f.hasOwnProperty(e)||(f[e]={}),c.hasOwnProperty(e)||(c[e]={}),u.hasOwnProperty(e)||(u[e]={}),v=d,p=f,s=c,l=u,d=d[e],f=f[e],c=c[e],u=u[e],n=e},H=function(){n="",d=v,f=p,c=s,u=l},K=function(e,t){var n=void 0;return M(t),n=B(N(e)),H(),n},U=function(){var e=function(e,t){var n=e,r=t.pop();t.forEach(function(e){n=n[e]}),delete n[r]};return function(){for(var t=arguments.length,n=Array(t),c=0;t>c;c++)n[c]=arguments[c];e(o,n),e(r,n),e(i,n),e(a,n)}}(),z=function(e,t,n){return e.appendChild(K(t,n)),e},J=function(t,n){var r=_slicedToArray(n,1),i=r[0];i&&(t.hasAttribute(x.directives.directiveElement),z(t,e[j(t)],i),f[i]=t)},q=function(t){if(t.hasAttribute){var n=void 0,r=void 0,i=void 0,o=void 0;[[x.directives.directiveElement,I],[x.directives.directiveVariable,C],[x.directives.directiveFunction,R],[x.directives.directiveList,_],[x.directives.directiveIn,J]].forEach(function(e){var o=_slicedToArray(e,2);r=o[0],i=o[1],t.hasAttribute(r)&&(n=t.getAttribute(r),n[0]!==x.attributeValueDoneSign&&(i(t,n.split(x.tokenSeparator)),t.setAttribute(r,x.attributeValueDoneSign+n)))}),t.hasAttribute(x.directives.directiveIn)||(o=j(t),e.hasOwnProperty(o)&&t.appendChild(N(e[o])))}},B=function(){var e=arguments.length<=0||void 0===arguments[0]?y.body:arguments[0];return k(e,q),e},G={el:o,xel:a,fx:t,createElement2:L,forgetKey:U,linkJsAndDom:B,options:x,bool:T};return Object.defineProperty(G,"vr",{get:function(){return r},set:function(e){return e&&P(e)?(E(r,e),e):void 0},enumerable:!0,configurable:!1}),Object.freeze(G)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);