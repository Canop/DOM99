"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var _slicedToArray=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},dom99=function(){var t={},e={},n={},r=[],i=t,o=e,a=n,u=void 0,c={},f={},s=document,d="miss",l="value",p="textContent",v="src",y="checked",m=function(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))},h=function(t){return t.map(function(t){return t})},b=function t(e,n){Object.keys(n).forEach(function(r){m(n[r])?(e.hasOwnProperty(r)||(Array.isArray(n[r])?e[r]=[]:e[r]={}),t(e[r],n[r])):e[r]=n[r]})},g=function(t){return"true"===t},A=function(t){return function(e){return t.hasOwnProperty(e)?t[e]:t[d]}},P=A({input:l,textarea:l,progress:l,select:l,img:v,source:v,audio:v,video:v,track:v,script:v,option:l,link:"href",miss:p}),E=A({checkbox:y,radio:y,miss:l}),T=A({checkbox:"change",radio:"change",range:"change","file": "change",miss:"input"}),S=A({select:"change",miss:"input"}),O={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(t,e){return"input"===t?E(e):P(t)},eventFromTagAndType:function(t,e){return"input"===t?T(e):S(t)},elementsForUserInputList:["input","textarea","select"]},w=function(t){var e=s.createElement(t.tagName);return t=Object.assign({},t),delete t.tagName,Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])}),e},D=function t(e,n){if(n(e),"TEMPLATE"!==e.tagName)for(e=e.firstElementChild;e;)t(e,n),e=e.nextElementSibling},V=function(t){return t.tagName.toLowerCase()},k=function(t){return t.getAttribute("is")||V(t)},L=function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];t.addEventListener(e,n,r)},x=function(t,e,n,i){var o=void 0,a=h(r);if(n&&i)n=n.split(O.listSeparator),i=i.split(O.listSeparator);else{if(!n&&!i)return;i=n.split(O.listSeparator),n=[O.eventFromTagAndType(V(t),t.type)]}1===n.length&&1===i.length?!function(){var r=i[0];o=function(t){return t.dKeys=h(a),t.dHost=e,c[r](t)},L(t,n[0],o)}():(o=function(t){var n=void 0;t.dKeys=h(a),t.dHost=e;var r=function(e){n=c[e](t)};return i.forEach(r),n},n.forEach(function(e){L(t,e,o)}))},F=function(t,e,n){var r=void 0,o=void 0;e&&(i.hasOwnProperty(e)&&(o=i[e]),t.DVRPL=O.variablePropertyFromTagAndType(n),Object.defineProperty(i,e,{get:function(){return r},set:function(e){var i=s.createDocumentFragment();r=e,t.innerHTML="",r.forEach(function(e){var r=s.createElement(n);m(e)?Object.keys(e).forEach(function(t){r[t]=e[t]}):r[t.DVRPL]=e,i.appendChild(r)}),t.appendChild(i)},enumerable:!0,configurable:!1}),void 0!==o&&(i[e]=o))},j=function(t,e){var n=V(t),r=t.type,a=void 0;e&&(i.hasOwnProperty(e)&&(a=i[e]),t.DVRP=O.variablePropertyFromTagAndType(n,r),o.hasOwnProperty(e)?o[e].push(t):!function(){var n=o,r="";o[e]=[t],Object.defineProperty(i,e,{get:function(){return r},set:function(t){void 0!==t&&(r=String(t),n[e].forEach(function(e){String(e[e.DVRP])!==r&&(e.DVRP===y?e[e.DVRP]=t:e[e.DVRP]=r)}))},enumerable:!0,configurable:!1})}(),O.elementsForUserInputList.includes(n)&&!function(){var o=i,a=function(t){o[e]=t.target[t.target.DVRP]};L(t,O.eventFromTagAndType(n,r),a)}(),void 0!==a&&(i[e]=a))},C=function(t,e,n,r){e&&(a[e]=t,n&&r&&(f[n+"-"+r]=t))},R=function(){return"content"in s.createElement("template")?function(t){return s.importNode(t.content,!0)}:function(t){var e=s.createElement("div");return e.innerHTML=t.innerHTML,e}}(),_=function(t){r.push(t),a.hasOwnProperty(t)||(a[t]={}),i.hasOwnProperty(t)||(i[t]={}),o.hasOwnProperty(t)||(o[t]={}),a=a[t],i=i[t],o=o[t]},I=function(t,e){var n=t;return e.forEach(function(t){n=n[t]}),n},H=function(){r.pop(),a=I(n,r),i=I(t,r),o=I(e,r)},N=function(t,e,n){_(e);var r=J(R(t),n);return H(),r},M=function(){var r=function(t,e){var n=t,r=e.pop();e.forEach(function(t){n=n[t]}),delete n[r]};return function(i){Array.isArray(i)||(i=[i]),r(n,h(i)),r(t,h(i)),r(e,h(i))}}(),K=function(t,e,n){return t.appendChild(N(e,n,t)),t},U=function(t,e){e&&K(t,f[k(t)],e)},z=function(t){return function(e){if(e.hasAttribute&&(u.forEach(function(n){var r=_slicedToArray(n,2),i=r[0],o=r[1];if(e.hasAttribute(i)){var a=e.getAttribute(i);a[0]!==O.attributeValueDoneSign&&(o===x?o.apply(void 0,[e,t].concat(_toConsumableArray(a.split(O.tokenSeparator)))):o.apply(void 0,[e].concat(_toConsumableArray(a.split(O.tokenSeparator)))),e.setAttribute(i,O.attributeValueDoneSign+a))}}),!e.hasAttribute(O.directives.directiveIn))){var n=k(e);f.hasOwnProperty(n)&&e.appendChild(R(f[n]))}}},J=function(){var t=arguments.length<=0||void 0===arguments[0]?s.body:arguments[0],e=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return u||(u=[[O.directives.directiveElement,C],[O.directives.directiveVariable,j],[O.directives.directiveFunction,x],[O.directives.directiveList,F],[O.directives.directiveIn,U]]),D(t,z(e)),t},q={el:n,fx:c,createElement2:w,forgetKey:M,linkJsAndDom:J,options:O,followPath:I,bool:g};return Object.defineProperty(q,"vr",{get:function(){return t},set:function(e){return e&&m(e)?(b(t,e),e):void 0},enumerable:!0,configurable:!1}),Object.freeze(q)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);