"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},dom99=function(){var e={},t={},n={},r={},i=e,o=t,a=n,c=r,u=void 0,f=void 0,d=void 0,s=void 0,l="",v=void 0,p={},y={},m=document,h="miss",b="value",g="textContent",A="src",P="checked",T=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))},E=function e(t,n){Object.keys(n).forEach(function(r){T(n[r])?(t.hasOwnProperty(r)||(Array.isArray(n[r])?t[r]=[]:t[r]={}),e(t[r],n[r])):t[r]=n[r]})},O=function(e){return"true"===e},S=function(e){return function(t){return e.hasOwnProperty(t)?e[t]:e[h]}},w=S({input:b,textarea:b,progress:b,select:b,img:A,source:A,audio:A,video:A,track:A,script:A,option:b,link:"href",miss:g}),D=S({checkbox:P,radio:P,miss:b}),V=S({checkbox:"change",radio:"change",range:"change",miss:"input"}),x=S({select:"change",miss:"input"}),L={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(e,t){return"input"===e?D(t):w(e)},eventFromTagAndType:function(e,t){return"input"===e?V(t):x(e)},elementsForUserInputList:["input","textarea","select"]},k=function(e){var t=m.createElement(e.tagName);return e=Object.assign({},e),delete e.tagName,Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t},F=function e(t,n){if(n(t),"TEMPLATE"!==t.tagName)for(t=t.firstElementChild;t;)e(t,n),t=t.nextElementSibling},j=function(e){return e.tagName.toLowerCase()},R=function(e){return e.getAttribute("is")||j(e)},_=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e.addEventListener(t,n,r)},C=function(e,t){var n=void 0,r=void 0,i=void 0,o=l;if(t[0]&&t[1])n=t[0].split(L.listSeparator),r=t[1].split(L.listSeparator);else{if(!t[0]&&!t[1])return;r=t[0].split(L.listSeparator),n=[L.eventFromTagAndType(j(e),e.type)]}1===n.length&&1===r.length?!function(){var t=r[0];i=function(e){return e.dKey=o,p[t](e)},_(e,n[0],i)}():(i=function(e){var t=void 0;e.dKey=o;var n=function(n){t=p[n](e)};return r.forEach(n),t},n.forEach(function(t){_(e,t,i)}))},I=function(e,t){var n=_slicedToArray(t,2),r=n[0],o=n[1],a=void 0,c=void 0;r&&(i.hasOwnProperty(r)&&(c=i[r]),e.DVRPL=L.variablePropertyFromTagAndType(o),Object.defineProperty(i,r,{get:function(){return a},set:function(t){var n=m.createDocumentFragment();a=t,e.innerHTML="",a.forEach(function(t){var r=m.createElement(o);T(t)?Object.keys(t).forEach(function(e){r[e]=t[e]}):r[e.DVRPL]=t,n.appendChild(r)}),e.appendChild(n)},enumerable:!0,configurable:!1}),void 0!==c&&(i[r]=c))},N=function(e,t){var n=_slicedToArray(t,1),r=n[0],a=j(e),c=e.type,u=void 0;r&&(i.hasOwnProperty(r)&&(u=i[r]),e.DVRP=L.variablePropertyFromTagAndType(a,c),o.hasOwnProperty(r)?o[r].push(e):!function(){var t=o,n="";o[r]=[e],Object.defineProperty(i,r,{get:function(){return n},set:function(e){void 0!==e&&(n=String(e),t[r].forEach(function(t){String(t[t.DVRP])!==n&&(t.DVRP===P?t[t.DVRP]=e:t[t.DVRP]=n)}))},enumerable:!0,configurable:!1})}(),L.elementsForUserInputList.includes(a)&&!function(){var t=i;_(e,L.eventFromTagAndType(a,c),function(e){t[r]=e.target[e.target.DVRP]})}(),void 0!==u&&(i[r]=u))},M=function(e,t){var n=_slicedToArray(t,3),r=n[0],i=n[1],o=n[2];r&&(a[r]=e,i&&o&&(y[i+"-"+o]=e))},H=function(){return"content"in m.createElement("template")?function(e){return m.importNode(e.content,!0)}:function(e){var t=m.createElement("div");return t.innerHTML=e.innerHTML,t}}(),K=function(e){a.hasOwnProperty(e)||(a[e]={}),c.hasOwnProperty(e)||(c[e]={}),i.hasOwnProperty(e)||(i[e]={}),o.hasOwnProperty(e)||(o[e]={}),d=a,s=c,u=i,f=o,a=a[e],c=c[e],i=i[e],o=o[e],l=e},U=function(){l="",a=d,c=s,i=u,o=f},z=function(e,t){K(t);var n=Q(H(e));return U(),n},J=function(){var i=function(e,t){var n=e,r=t.pop();t.forEach(function(e){n=n[e]}),delete n[r]};return function(){for(var o=arguments.length,a=Array(o),c=0;o>c;c++)a[c]=arguments[c];i(n,a),i(e,a),i(t,a),i(r,a)}}(),q=function(e,t,n){return e.appendChild(z(t,n)),e},B=function(e,t){var n=_slicedToArray(t,1),r=n[0];r&&(e.hasAttribute(L.directives.directiveElement),q(e,y[R(e)],r),c[r]=e)},G=function(e){if(e.hasAttribute&&(v||(v=[[L.directives.directiveElement,M],[L.directives.directiveVariable,N],[L.directives.directiveFunction,C],[L.directives.directiveList,I],[L.directives.directiveIn,B]]),v.forEach(function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1];if(e.hasAttribute(r)){var o=e.getAttribute(r);o[0]!==L.attributeValueDoneSign&&(i(e,o.split(L.tokenSeparator)),e.setAttribute(r,L.attributeValueDoneSign+o))}}),!e.hasAttribute(L.directives.directiveIn))){var t=R(e);y.hasOwnProperty(t)&&e.appendChild(H(y[t]))}},Q=function(){var e=arguments.length<=0||void 0===arguments[0]?m.body:arguments[0];return F(e,G),e},W={el:n,xel:r,fx:p,createElement2:k,forgetKey:J,linkJsAndDom:Q,options:L,bool:O};return Object.defineProperty(W,"vr",{get:function(){return e},set:function(t){return t&&T(t)?(E(e,t),t):void 0},enumerable:!0,configurable:!1}),Object.freeze(W)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);