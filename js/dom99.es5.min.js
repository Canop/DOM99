"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},dom99=function(){var e={},t={},n={},r=[],i=e,o=t,a=n,u=void 0,c={},f={},s=document,d="miss",l="value",p="textContent",v="src",y="checked",m=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))},h=function(e){return e.map(function(e){return e})},b=function e(t,n){Object.keys(n).forEach(function(r){m(n[r])?(t.hasOwnProperty(r)||(Array.isArray(n[r])?t[r]=[]:t[r]={}),e(t[r],n[r])):t[r]=n[r]})},g=function(e){return"true"===e},A=function(e){return function(t){return e.hasOwnProperty(t)?e[t]:e[d]}},P=A({input:l,textarea:l,progress:l,select:l,img:v,source:v,audio:v,video:v,track:v,script:v,option:l,link:"href",miss:p}),E=A({checkbox:y,radio:y,miss:l}),T=A({checkbox:"change",radio:"change",range:"change",miss:"input"}),O=A({select:"change",miss:"input"}),S={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(e,t){return"input"===e?E(t):P(e)},eventFromTagAndType:function(e,t){return"input"===e?T(t):O(e)},elementsForUserInputList:["input","textarea","select"]},w=function(e){var t=s.createElement(e.tagName);return e=Object.assign({},e),delete e.tagName,Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t},D=function e(t,n){if(n(t),"TEMPLATE"!==t.tagName)for(t=t.firstElementChild;t;)e(t,n),t=t.nextElementSibling},V=function(e){return e.tagName.toLowerCase()},L=function(e){return e.getAttribute("is")||V(e)},k=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e.addEventListener(t,n,r)},x=function(e,t,n){var o=void 0,u={vr:i,el:a},f=h(r);if(t&&n)t=t.split(S.listSeparator),n=n.split(S.listSeparator);else{if(!t&&!n)return;n=t.split(S.listSeparator),t=[S.eventFromTagAndType(V(e),e.type)]}1===t.length&&1===n.length?!function(){var r=n[0];o=function(e){return e.dKeys=f,e.dIn=u,c[r](e)},k(e,t[0],o)}():(o=function(e){var t=void 0;e.dKeys=f,e.dIn=u;var r=function(n){t=c[n](e)};return n.forEach(r),t},t.forEach(function(t){k(e,t,o)}))},F=function(e,t,n){var r=void 0,o=void 0;t&&(i.hasOwnProperty(t)&&(o=i[t]),e.DVRPL=S.variablePropertyFromTagAndType(n),Object.defineProperty(i,t,{get:function(){return r},set:function(t){var i=s.createDocumentFragment();r=t,e.innerHTML="",r.forEach(function(t){var r=s.createElement(n);m(t)?Object.keys(t).forEach(function(e){r[e]=t[e]}):r[e.DVRPL]=t,i.appendChild(r)}),e.appendChild(i)},enumerable:!0,configurable:!1}),void 0!==o&&(i[t]=o))},j=function(e,t){var n=V(e),r=e.type,a=void 0;t&&(i.hasOwnProperty(t)&&(a=i[t]),e.DVRP=S.variablePropertyFromTagAndType(n,r),o.hasOwnProperty(t)?o[t].push(e):!function(){var n=o,r="";o[t]=[e],Object.defineProperty(i,t,{get:function(){return r},set:function(e){void 0!==e&&(r=String(e),n[t].forEach(function(t){String(t[t.DVRP])!==r&&(t.DVRP===y?t[t.DVRP]=e:t[t.DVRP]=r)}))},enumerable:!0,configurable:!1})}(),S.elementsForUserInputList.includes(n)&&!function(){var o=i,a=function(e){o[t]=e.target[e.target.DVRP]};k(e,S.eventFromTagAndType(n,r),a)}(),void 0!==a&&(i[t]=a))},C=function(e,t,n,r){t&&(a[t]=e,n&&r&&(f[n+"-"+r]=e))},I=function(){return"content"in s.createElement("template")?function(e){return s.importNode(e.content,!0)}:function(e){var t=s.createElement("div");return t.innerHTML=e.innerHTML,t}}(),R=function(e){r.push(e),a.hasOwnProperty(e)||(a[e]={}),i.hasOwnProperty(e)||(i[e]={}),o.hasOwnProperty(e)||(o[e]={}),a=a[e],i=i[e],o=o[e]},_=function(e,t){var n=e;return t.forEach(function(e){n=n[e]}),n},N=function(){r.pop(),a=_(n,r),i=_(e,r),o=_(t,r)},M=function(e,t){R(t);var n=J(I(e));return N(),n},H=function(){var r=function(e,t){var n=e,r=t.pop();t.forEach(function(e){n=n[e]}),delete n[r]};return function(i){Array.isArray(i)||(i=[i]),r(n,i),r(e,i),r(t,i)}}(),K=function(e,t,n){return e.appendChild(M(t,n)),e},U=function(e,t){t&&K(e,f[L(e)],t)},z=function(e){if(e.hasAttribute&&(u.forEach(function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1];if(e.hasAttribute(r)){var o=e.getAttribute(r);o[0]!==S.attributeValueDoneSign&&(i.apply(void 0,[e].concat(_toConsumableArray(o.split(S.tokenSeparator)))),e.setAttribute(r,S.attributeValueDoneSign+o))}}),!e.hasAttribute(S.directives.directiveIn))){var t=L(e);f.hasOwnProperty(t)&&e.appendChild(I(f[t]))}},J=function(){var e=arguments.length<=0||void 0===arguments[0]?s.body:arguments[0];return u||(u=[[S.directives.directiveElement,C],[S.directives.directiveVariable,j],[S.directives.directiveFunction,x],[S.directives.directiveList,F],[S.directives.directiveIn,U]]),D(e,z),e},q={el:n,fx:c,createElement2:w,forgetKey:H,linkJsAndDom:J,options:S,followPath:_,bool:g};return Object.defineProperty(q,"vr",{get:function(){return e},set:function(t){return t&&m(t)?(b(e,t),t):void 0},enumerable:!0,configurable:!1}),Object.freeze(q)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);