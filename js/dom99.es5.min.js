"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},dom99=function(){var e={},t={},n={},r={},i=e,o=t,a=n,u=r,c=void 0,f=void 0,d=void 0,s=void 0,l="",v=void 0,p={},y={},m=document,h="miss",b="value",g="textContent",A="src",P="checked",E=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))},T=function e(t,n){Object.keys(n).forEach(function(r){E(n[r])?(t.hasOwnProperty(r)||(Array.isArray(n[r])?t[r]=[]:t[r]={}),e(t[r],n[r])):t[r]=n[r]})},O=function(e){return"true"===e},S=function(e){return function(t){return e.hasOwnProperty(t)?e[t]:e[h]}},w=S({input:b,textarea:b,progress:b,select:b,img:A,source:A,audio:A,video:A,track:A,script:A,option:b,link:"href",miss:g}),D=S({checkbox:P,radio:P,miss:b}),V=S({checkbox:"change",radio:"change",range:"change",miss:"input"}),x=S({select:"change",miss:"input"}),L={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(e,t){return"input"===e?D(t):w(e)},eventFromTagAndType:function(e,t){return"input"===e?V(t):x(e)},elementsForUserInputList:["input","textarea","select"]},k=function(e){var t=m.createElement(e.tagName);return e=Object.assign({},e),delete e.tagName,Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t},F=function e(t,n){if(n(t),"TEMPLATE"!==t.tagName)for(t=t.firstElementChild;t;)e(t,n),t=t.nextElementSibling},j=function(e){return e.tagName.toLowerCase()},C=function(e){return e.getAttribute("is")||j(e)},R=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e.addEventListener(t,n,r)},I=function(e,t,n){var r=void 0,i=l;if(t&&n)t=t.split(L.listSeparator),n=n.split(L.listSeparator);else{if(!t&&!n)return;n=t.split(L.listSeparator),t=[L.eventFromTagAndType(j(e),e.type)]}1===t.length&&1===n.length?!function(){var o=n[0];r=function(e){return e.dKey=i,p[o](e)},R(e,t[0],r)}():(r=function(e){var t=void 0;e.dKey=i;var r=function(n){t=p[n](e)};return n.forEach(r),t},t.forEach(function(t){R(e,t,r)}))},_=function(e,t,n){var r=void 0,o=void 0;t&&(i.hasOwnProperty(t)&&(o=i[t]),e.DVRPL=L.variablePropertyFromTagAndType(n),Object.defineProperty(i,t,{get:function(){return r},set:function(t){var i=m.createDocumentFragment();r=t,e.innerHTML="",r.forEach(function(t){var r=m.createElement(n);E(t)?Object.keys(t).forEach(function(e){r[e]=t[e]}):r[e.DVRPL]=t,i.appendChild(r)}),e.appendChild(i)},enumerable:!0,configurable:!1}),void 0!==o&&(i[t]=o))},N=function(e,t){var n=j(e),r=e.type,a=void 0;t&&(i.hasOwnProperty(t)&&(a=i[t]),e.DVRP=L.variablePropertyFromTagAndType(n,r),o.hasOwnProperty(t)?o[t].push(e):!function(){var n=o,r="";o[t]=[e],Object.defineProperty(i,t,{get:function(){return r},set:function(e){void 0!==e&&(r=String(e),n[t].forEach(function(t){String(t[t.DVRP])!==r&&(t.DVRP===P?t[t.DVRP]=e:t[t.DVRP]=r)}))},enumerable:!0,configurable:!1})}(),L.elementsForUserInputList.includes(n)&&!function(){var o=i,a=function(e){o[t]=e.target[e.target.DVRP]};R(e,L.eventFromTagAndType(n,r),a)}(),void 0!==a&&(i[t]=a))},M=function(e,t,n,r){t&&(a[t]=e,n&&r&&(y[n+"-"+r]=e))},H=function(){return"content"in m.createElement("template")?function(e){return m.importNode(e.content,!0)}:function(e){var t=m.createElement("div");return t.innerHTML=e.innerHTML,t}}(),K=function(e){a.hasOwnProperty(e)||(a[e]={}),u.hasOwnProperty(e)||(u[e]={}),i.hasOwnProperty(e)||(i[e]={}),o.hasOwnProperty(e)||(o[e]={}),d=a,s=u,c=i,f=o,a=a[e],u=u[e],i=i[e],o=o[e],l=e},U=function(){l="",a=d,u=s,i=c,o=f},z=function(e,t){K(t);var n=Q(H(e));return U(),n},J=function(){var i=function(e,t){var n=e,r=t.pop();t.forEach(function(e){n=n[e]}),delete n[r]};return function(){for(var o=arguments.length,a=Array(o),u=0;o>u;u++)a[u]=arguments[u];i(n,a),i(e,a),i(t,a),i(r,a)}}(),q=function(e,t,n){return e.appendChild(z(t,n)),e},B=function(e,t){t&&(e.hasAttribute(L.directives.directiveElement),q(e,y[C(e)],t),u[t]=e)},G=function(e){if(e.hasAttribute&&(v||(v=[[L.directives.directiveElement,M],[L.directives.directiveVariable,N],[L.directives.directiveFunction,I],[L.directives.directiveList,_],[L.directives.directiveIn,B]]),v.forEach(function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1];if(e.hasAttribute(r)){var o=e.getAttribute(r);o[0]!==L.attributeValueDoneSign&&(i.apply(void 0,[e].concat(_toConsumableArray(o.split(L.tokenSeparator)))),e.setAttribute(r,L.attributeValueDoneSign+o))}}),!e.hasAttribute(L.directives.directiveIn))){var t=C(e);y.hasOwnProperty(t)&&e.appendChild(H(y[t]))}},Q=function(){var e=arguments.length<=0||void 0===arguments[0]?m.body:arguments[0];return F(e,G),e},W={el:n,xel:r,fx:p,createElement2:k,forgetKey:J,linkJsAndDom:Q,options:L,bool:O};return Object.defineProperty(W,"vr",{get:function(){return e},set:function(t){return t&&E(t)?(T(e,t),t):void 0},enumerable:!0,configurable:!1}),Object.freeze(W)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);