"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},dom99=function(){var e="",t={},n={},r={},i={},o=t,a=n,c=r,u=i,f=void 0,d=void 0,s=void 0,l=void 0,v={},p={},y=document,m="miss",h="value",b="textContent",g="src",A="checked",P=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))},T=function e(t,n){Object.keys(n).forEach(function(r){P(n[r])?(t.hasOwnProperty(r)||(Array.isArray(n[r])?t[r]=[]:t[r]={}),e(t[r],n[r])):t[r]=n[r]})},E=function(e){return"true"===e},O=function(e){return e.getAttribute("is")||j(e)},S=function(e){return function(t){return e.hasOwnProperty(t)?e[t]:e[m]}},w=S({input:h,textarea:h,progress:h,select:h,img:g,source:g,audio:g,video:g,track:g,script:g,option:h,link:"href",miss:b}),D=S({checkbox:A,radio:A,miss:h}),V=S({checkbox:"change",radio:"change",range:"change",miss:"input"}),x=S({select:"change",miss:"input"}),L={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(e,t){return"input"===e?D(t):w(e)},eventFromTagAndType:function(e,t){return"input"===e?V(t):x(e)},elementsForUserInputList:["input","textarea","select"]},k=function(e){var t=y.createElement(e.tagName);return e=Object.assign({},e),delete e.tagName,Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t},F=function e(t,n){if(n(t),"TEMPLATE"!==t.tagName)for(t=t.firstElementChild;t;)e(t,n),t=t.nextElementSibling},j=function(e){return e.tagName.toLowerCase()},R=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e.addEventListener(t,n,r)},_=function(t,n){var r=void 0,i=void 0,o=e;if(n[0]&&n[1])r=n[0].split(L.listSeparator),i=n[1].split(L.listSeparator);else{if(!n[0]&&!n[1])return;i=n[0].split(L.listSeparator),r=[L.eventFromTagAndType(j(t),t.type)]}1===r.length&&1===i.length?!function(){var e=i[0],n=function(t){return t.dKey=o,v[e](t)};R(t,r[0],n)}():!function(){var e=function(e){var t=void 0;e.dKey=o;var n=function(n){t=v[n](e)};return i.forEach(n),t};r.forEach(function(n){R(t,n,e)})}()},C=function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=void 0,c=void 0;r&&(o.hasOwnProperty(r)&&(c=o[r]),e.DVRPL=L.variablePropertyFromTagAndType(i),Object.defineProperty(o,r,{get:function(){return a},set:function(t){var n=y.createDocumentFragment();a=t,e.innerHTML="",a.forEach(function(t){var r=y.createElement(i);P(t)?Object.keys(t).forEach(function(e){r[e]=t[e]}):r[e.DVRPL]=t,n.appendChild(r)}),e.appendChild(n)},enumerable:!0,configurable:!1}),void 0!==c&&(o[r]=c))},I=function(e,t){var n=_slicedToArray(t,1),r=n[0],i=j(e),c=e.type,u=void 0;r&&(o.hasOwnProperty(r)&&(u=o[r]),e.DVRP=L.variablePropertyFromTagAndType(i,c),a.hasOwnProperty(r)?a[r].push(e):!function(){var t=a,n="";a[r]=[e],Object.defineProperty(o,r,{get:function(){return n},set:function(e){void 0!==e&&(n=String(e),t[r].forEach(function(t){String(t[t.DVRP])!==n&&(t.DVRP===A?t[t.DVRP]=e:t[t.DVRP]=n)}))},enumerable:!0,configurable:!1})}(),L.elementsForUserInputList.includes(i)&&!function(){var t=o;R(e,L.eventFromTagAndType(i,c),function(e){t[r]=e.target[e.target.DVRP]})}(),void 0!==u&&(o[r]=u))},N=function(e,t){var n=_slicedToArray(t,3),r=n[0],i=n[1],o=n[2];r&&(c[r]=e,i&&o&&(p[i+"-"+o]=e))},M=function(){return"content"in y.createElement("template")?function(e){return y.importNode(e.content,!0)}:function(e){var t=y.createElement("div");return t.innerHTML=e.innerHTML,t}}(),H=function(t){c.hasOwnProperty(t)||(c[t]={}),u.hasOwnProperty(t)||(u[t]={}),o.hasOwnProperty(t)||(o[t]={}),a.hasOwnProperty(t)||(a[t]={}),s=c,l=u,f=o,d=a,c=c[t],u=u[t],o=o[t],a=a[t],e=t},K=function(){e="",c=s,u=l,o=f,a=d},U=function(e,t){H(t);var n=G(M(e));return K(),n},z=function(){var e=function(e,t){var n=e,r=t.pop();t.forEach(function(e){n=n[e]}),delete n[r]};return function(){for(var o=arguments.length,a=Array(o),c=0;o>c;c++)a[c]=arguments[c];e(r,a),e(t,a),e(n,a),e(i,a)}}(),J=function(e,t,n){return e.appendChild(U(t,n)),e},q=function(e,t){var n=_slicedToArray(t,1),r=n[0];r&&(e.hasAttribute(L.directives.directiveElement),J(e,p[O(e)],r),u[r]=e)},B=function(e){if(e.hasAttribute){var t=void 0,n=void 0,r=void 0;if([[L.directives.directiveElement,N],[L.directives.directiveVariable,I],[L.directives.directiveFunction,_],[L.directives.directiveList,C],[L.directives.directiveIn,q]].forEach(function(i){var o=_slicedToArray(i,2);n=o[0],r=o[1],e.hasAttribute(n)&&(t=e.getAttribute(n),t[0]!==L.attributeValueDoneSign&&(r(e,t.split(L.tokenSeparator)),e.setAttribute(n,L.attributeValueDoneSign+t)))}),!e.hasAttribute(L.directives.directiveIn)){var i=O(e);p.hasOwnProperty(i)&&e.appendChild(M(p[i]))}}},G=function(){var e=arguments.length<=0||void 0===arguments[0]?y.body:arguments[0];return F(e,B),e},Q={el:r,xel:i,fx:v,createElement2:k,forgetKey:z,linkJsAndDom:G,options:L,bool:E};return Object.defineProperty(Q,"vr",{get:function(){return t},set:function(e){return e&&P(e)?(T(t,e),e):void 0},enumerable:!0,configurable:!1}),Object.freeze(Q)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);