"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},dom99=function(){var e="",t={},n={},r={},i={},o=t,a=n,c=r,u=i,f=void 0,d=void 0,s=void 0,l=void 0,v={},p={},y=document,m="miss",h="value",b="textContent",g="src",A="checked",P=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))},E=function e(t,n){Object.keys(n).forEach(function(r){P(n[r])?(t.hasOwnProperty(r)||(Array.isArray(n[r])?t[r]=[]:t[r]={}),e(t[r],n[r])):t[r]=n[r]})},T=function(e){return"true"===e},O=function(e){return function(t){return e.hasOwnProperty(t)?e[t]:e[m]}},S=O({input:h,textarea:h,progress:h,select:h,img:g,source:g,audio:g,video:g,track:g,script:g,option:h,link:"href",miss:b}),w=O({checkbox:A,radio:A,miss:h}),D=O({checkbox:"change",radio:"change",range:"change",miss:"input"}),V=O({select:"change",miss:"input"}),x={attributeValueDoneSign:"â˜€",tokenSeparator:"-",listSeparator:",",directives:{directiveFunction:"data-fx",directiveVariable:"data-vr",directiveElement:"data-el",directiveList:"data-list",directiveIn:"data-in"},variablePropertyFromTagAndType:function(e,t){return"input"===e?w(t):S(e)},eventFromTagAndType:function(e,t){return"input"===e?D(t):V(e)},elementsForUserInputList:["input","textarea","select"]},L=function(e){var t=y.createElement(e.tagName);return e=Object.assign({},e),delete e.tagName,Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t},k=function e(t,n){if(n(t),"TEMPLATE"!==t.tagName)for(t=t.firstElementChild;t;)e(t,n),t=t.nextElementSibling},j=function(e){return e.tagName.toLowerCase()},F=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e.addEventListener(t,n,r)},R=function(t,n){var r=n[0].split(x.listSeparator),i=n[1].split(x.listSeparator),o=e;r&&i&&(1===r.length&&1===i.length?!function(){var e=i[0],n=function(t){return t.dKey=o,v[e](t)};F(t,r[0],n)}():!function(){var e=function(e){var t=void 0;e.dKey=o;var n=function(n){t=v[n](e)};return i.forEach(n),t};r.forEach(function(n){F(t,n,e)})}())},_=function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=void 0,c=void 0;r&&(o.hasOwnProperty(r)&&(c=o[r]),e.DVRPL=x.variablePropertyFromTagAndType(i),Object.defineProperty(o,r,{get:function(){return a},set:function(t){var n=y.createDocumentFragment();a=t,e.innerHTML="",a.forEach(function(t){var r=y.createElement(i);P(t)?Object.keys(t).forEach(function(e){r[e]=t[e]}):r[e.DVRPL]=t,n.appendChild(r)}),e.appendChild(n)},enumerable:!0,configurable:!1}),void 0!==c&&(o[r]=c))},C=function(e,t){var n=_slicedToArray(t,1),r=n[0],i=j(e),c=e.type,u=void 0;r&&(o.hasOwnProperty(r)&&(u=o[r]),e.DVRP=x.variablePropertyFromTagAndType(i,c),a.hasOwnProperty(r)?a[r].push(e):!function(){var t=a,n="";a[r]=[e],Object.defineProperty(o,r,{get:function(){return n},set:function(e){void 0!==e&&(n=String(e),t[r].forEach(function(t){String(t[t.DVRP])!==n&&(t.DVRP===A?t[t.DVRP]=e:t[t.DVRP]=n)}))},enumerable:!0,configurable:!1})}(),x.elementsForUserInputList.includes(i)&&!function(){var t=o;F(e,x.eventFromTagAndType(i,c),function(e){t[r]=e.target[e.target.DVRP]})}(),void 0!==u&&(o[r]=u))},I=function(e,t){var n=_slicedToArray(t,3),r=n[0],i=n[1],o=n[2];r&&(c[r]=e,i&&o&&(p[i+"-"+o]=e))},N=function(){return"content"in y.createElement("template")?function(e){return y.importNode(e.content,!0)}:function(e){var t=y.createElement("div");return t.innerHTML=e.innerHTML,t}}(),M=function(t){c.hasOwnProperty(t)||(c[t]={}),u.hasOwnProperty(t)||(u[t]={}),o.hasOwnProperty(t)||(o[t]={}),a.hasOwnProperty(t)||(a[t]={}),s=c,l=u,f=o,d=a,c=c[t],u=u[t],o=o[t],a=a[t],e=t},H=function(){e="",c=s,u=l,o=f,a=d},K=function(e,t){M(t);var n=B(N(e));return H(),n},U=function(){var e=function(e,t){var n=e,r=t.pop();t.forEach(function(e){n=n[e]}),delete n[r]};return function(){for(var o=arguments.length,a=Array(o),c=0;o>c;c++)a[c]=arguments[c];e(r,a),e(t,a),e(n,a),e(i,a)}}(),z=function(e,t,n){return e.appendChild(K(t,n)),e},J=function(e,t){var n=_slicedToArray(t,1),r=n[0];r&&(e.hasAttribute(x.directives.directiveElement),z(e,p[j(e)],r),u[r]=e)},q=function(e){if(e.hasAttribute){var t=void 0,n=void 0,r=void 0,i=void 0;[[x.directives.directiveElement,I],[x.directives.directiveVariable,C],[x.directives.directiveFunction,R],[x.directives.directiveList,_],[x.directives.directiveIn,J]].forEach(function(i){var o=_slicedToArray(i,2);n=o[0],r=o[1],e.hasAttribute(n)&&(t=e.getAttribute(n),t[0]!==x.attributeValueDoneSign&&(r(e,t.split(x.tokenSeparator)),e.setAttribute(n,x.attributeValueDoneSign+t)))}),e.hasAttribute(x.directives.directiveIn)||(i=j(e),p.hasOwnProperty(i)&&e.appendChild(N(p[i])))}},B=function(){var e=arguments.length<=0||void 0===arguments[0]?y.body:arguments[0];return k(e,q),e},G={el:r,xel:i,fx:v,createElement2:L,forgetKey:U,linkJsAndDom:B,options:x,bool:T};return Object.defineProperty(G,"vr",{get:function(){return t},set:function(e){return e&&P(e)?(E(t,e),e):void 0},enumerable:!0,configurable:!1}),Object.freeze(G)}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=dom99);